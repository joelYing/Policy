<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>learn Resources</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<link rel="stylesheet" th:href="@{../css/bootstrap.css}" />
<script type="text/javascript" th:src="@{../js/bootstrap.js}"></script>
<script type="text/javascript" th:src="@{../js/jquery.min.js}"></script>


<body>
<div class="container">
    <h1>查询结果</h1>
    <table border="1" align="center">
        <tr>
            <th>序号</th>
            <th>来源</th>
            <th>标签</th>
            <th>链接</th>
            <th>预览</th>
            <th>发布时间</th>
        </tr>
        <tr th:each="p:${policyPageInfo.list}">
            <td th:text="${p.getId()}"></td>
            <td th:text="${p.getSourceName()}"></td>
            <td th:text="${p.getTag()}"></td>
            <td><a th:text="${p.getTitle()}" th:href="${p.getUrl()}" target="_blank"></a></td>
            <td><a th:href="@{'/preview?url='+${p.getUrl()}}">预览</a></td>
            <td th:text="${p.getPublished()}"></td>
        </tr>

    </table>
    <div align="center" style="margin-top:2%;">
        <div align="center">
            当前 第 [[${policyPageInfo.pageNum}]] 页, 共 [[${policyPageInfo.pages}]] 页 总计 [[${policyPageInfo.total}]] 条记录
        </div>

        <div align="center">
        <ul class="pagination">
            <li th:if="${policyPageInfo.hasPreviousPage}">
                <a th:href="@{'/allPolicy?page=' + '1'}">首页</a>
                <a th:href="@{'/allPolicy?page=' + ${policyPageInfo.getPageNum() - 1}}">上一页</a>
            </li>

            <li class="prev" th:if="${policyPageInfo.hasPreviousPage}">
                <a th:href="@{'/allPolicy?page=' + ${policyPageInfo.prePage}}">
                    <i class="ace-icon fa fa-angle-double-left"></i>
                </a>
            </li>
            <!--遍历条数-->
            <li th:each="nav:${policyPageInfo.navigatepageNums}">
                <a th:href="@{'/allPolicy?page=' + ${nav}}" th:text="${' ' + nav + ' '}" th:if="${nav != policyPageInfo.pageNum}"></a>
                <span style="font-weight: bold;" th:if="${nav == policyPageInfo.pageNum}" th:text="${nav}" ></span>
            </li>

            <li class="next" th:if="${policyPageInfo.hasNextPage}">
                <a th:href="@{'/allPolicy?page=' + ${policyPageInfo.nextPage}}">
                    <i class="ace-icon fa fa-angle-double-right"></i>
                </a>
            </li>

            <li th:if="${policyPageInfo.hasNextPage}">
                <a th:href="@{'/allPolicy?page=' + ${policyPageInfo.getNextPage()}}">下一页</a>
                <a th:href="@{'/allPolicy?page=' + ${policyPageInfo.pages}}">尾页</a>
            </li>

        </ul>
        </div>
    </div>
</div>
</body>
</html>